{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\fe3-final\\\\src\\\\Components\\\\utils\\\\global.context.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { createContext, useEffect, useReducer, useMemo } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const initialState = {\n  theme: \"light\",\n  data: [],\n  favorites: JSON.parse(localStorage.getItem(\"favorites\")) || []\n};\nexport const ContextGlobal = /*#__PURE__*/createContext(undefined);\n\nconst globalReducer = (state, action) => {\n  switch (action.type) {\n    case \"SET_THEME\":\n      return { ...state,\n        theme: action.payload\n      };\n\n    case \"SET_DATA\":\n      return { ...state,\n        data: action.payload\n      };\n\n    case \"ADD_TO_FAVORITES\":\n      const updatedFavorites = [...state.favorites, action.payload];\n      localStorage.setItem(\"favorites\", JSON.stringify(updatedFavorites));\n      return { ...state,\n        favorites: updatedFavorites\n      };\n\n    case \"REMOVE_FROM_FAVORITES\":\n      const filteredFavorites = state.favorites.filter(data => data.id !== action.payload.id);\n      localStorage.setItem(\"favorites\", JSON.stringify(filteredFavorites));\n      return { ...state,\n        favorites: filteredFavorites\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const ContextProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [state, dispatch] = useReducer(globalReducer, initialState);\n\n  const addToFavorites = data => {\n    dispatch({\n      type: \"ADD_TO_FAVORITES\",\n      payload: data\n    });\n  };\n\n  const removeFromFavorites = data => {\n    dispatch({\n      type: \"REMOVE_FROM_FAVORITES\",\n      payload: data\n    });\n  };\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await axios.get(\"https://jsonplaceholder.typicode.com/users\");\n        dispatch({\n          type: \"SET_DATA\",\n          payload: response.data\n        });\n      } catch (error) {\n        console.error(\"Error fetching data from API\", error);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  const toggleTheme = () => {\n    dispatch({\n      type: \"SET_THEME\",\n      payload: state.theme === \"light\" ? \"dark\" : \"light\"\n    });\n  };\n\n  const contextValue = useMemo(() => ({\n    state,\n    toggleTheme,\n    addToFavorites,\n    removeFromFavorites\n  }), [state]);\n  return /*#__PURE__*/_jsxDEV(ContextGlobal.Provider, {\n    value: contextValue,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ContextProvider, \"1hLxNn5oipVjGNThoOX55kaYYoY=\");\n\n_c = ContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"ContextProvider\");","map":{"version":3,"names":["axios","React","createContext","useEffect","useReducer","useMemo","initialState","theme","data","favorites","JSON","parse","localStorage","getItem","ContextGlobal","undefined","globalReducer","state","action","type","payload","updatedFavorites","setItem","stringify","filteredFavorites","filter","id","ContextProvider","children","dispatch","addToFavorites","removeFromFavorites","fetchData","response","get","error","console","toggleTheme","contextValue"],"sources":["C:/Users/ASUS/Desktop/fe3-final/src/Components/utils/global.context.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { createContext, useEffect, useReducer, useMemo} from \"react\";\r\n\r\nexport const initialState = {\r\n  theme: \"light\",\r\n  data: [],\r\n  favorites: JSON.parse(localStorage.getItem(\"favorites\")) || [],\r\n};\r\n\r\nexport const ContextGlobal = createContext(undefined);\r\n\r\nconst globalReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"SET_THEME\":\r\n      return { ...state, theme: action.payload };\r\n    case \"SET_DATA\":\r\n      return { ...state, data: action.payload };\r\n    case \"ADD_TO_FAVORITES\":\r\n      const updatedFavorites = [...state.favorites, action.payload];\r\n      localStorage.setItem(\"favorites\", JSON.stringify(updatedFavorites));\r\n      return {\r\n        ...state,\r\n        favorites: updatedFavorites,\r\n      };\r\n    case \"REMOVE_FROM_FAVORITES\":\r\n      const filteredFavorites = state.favorites.filter(\r\n        (data) => data.id !== action.payload.id\r\n      );\r\n      localStorage.setItem(\"favorites\", JSON.stringify(filteredFavorites));\r\n      return {\r\n        ...state,\r\n        favorites: filteredFavorites,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const ContextProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(globalReducer, initialState);\r\n\r\n  const addToFavorites = (data) => {\r\n    dispatch({ type: \"ADD_TO_FAVORITES\", payload: data });\r\n  };\r\n\r\n  const removeFromFavorites = (data) => {\r\n    dispatch({ type: \"REMOVE_FROM_FAVORITES\", payload: data });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await axios.get(\r\n          \"https://jsonplaceholder.typicode.com/users\"\r\n        );\r\n        dispatch({ type: \"SET_DATA\", payload: response.data });\r\n      } catch (error) {\r\n        console.error(\"Error fetching data from API\", error);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  const toggleTheme = () => {\r\n    dispatch({\r\n      type: \"SET_THEME\",\r\n      payload: state.theme === \"light\" ? \"dark\" : \"light\",\r\n    });\r\n  };\r\n\r\n  const contextValue = useMemo( () => ({ state, toggleTheme, addToFavorites, removeFromFavorites, }), [state] );\r\n  return (\r\n    <ContextGlobal.Provider value={contextValue}>\r\n      {children}\r\n    </ContextGlobal.Provider>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}